function autoncMapsInit(){}function ncMaps(o,e){if(void 0==o)return this.error({error:"{idMapa:'el ID de tu div.'} requerido!",codigo:1});if(void 0==o.apiKey?console.log("Advertencia: Ingresa tu apiKey de Google Maps"):this.apiKey=o.apiKey,void 0==o.loadScript?o.loadScript=!0:"",this._idMapa=o.idMapa,this.mapa=null,this.markerArray=[],this.circuloArray=[],this.polyArray=[],this.polyGonArray=[],this.polylineArray=[],this.direcArray=[],this.zoom=null,this.markerAddress=[],this.polylineAnimatedInterval=null,!window.google&&1==o.loadScript){console.log("Cool!");var t="";void 0!=o.libraries&&(t="libraries=",o.libraries.foreach(function(e,r){var a=",";r==o.libraries.length-1&&(a=""),t+=e+a}));var r=this,a="";return o.apiKey&&(a="&key="+o.apiKey),void this.loadScript("https://maps.googleapis.com/maps/api/js?"+t+a)}void 0!=e&&r.iniciaMapa(e)}mcTinItfn=[],ncMaps.prototype.getUserPosition=function(o){return maps=this,navigator.geolocation?void navigator.geolocation.getCurrentPosition(function(e){e=maps.generaLatLng(e.coords.latitude,e.coords.longitude),maps.userPosition=e,o(e)},function(){o({Error:"No se pudo localizar."})}):void console.log("Sin soporte GPS.")},ncMaps.prototype.iniciaMapa=function(o){void 0==o?o={}:"",void 0==o.lat?o.lat=19.2469:"",void 0==o.lng?o.lng=-103.7263:"",void 0==o.zoom?o.zoom=10:"",void 0==o.zoomCtr?o.zoomCtr=!0:"",void 0==o.ui?o.ui=!0:"",void 0==o.tipoCtr?o.tipoCtr=!0:"",void 0==o.streetView?o.streetView=!0:"",void 0==o.latLng?o.latLng=new google.maps.LatLng(o.lat,o.lng):"",void 0==o.style?o.style=[{featureType:"poi",stylers:[{visibility:"off"}]}]:"",this.originalPosition=o.latLng,this.originalZoom=o.zoom;var e={zoom:parseInt(o.zoom),disableDefaultUI:o.ui,mapTypeControl:o.tipoCtr,mapTypeControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},streetViewControl:o.streetView,zoomControl:o.zoomCtr,zoomControlOptions:{style:google.maps.ZoomControlStyle.large,position:google.maps.ControlPosition.RIGHT_CENTER},center:o.latLng,styles:o.style};this.mapa=new google.maps.Map(document.getElementById(this._idMapa),e)},ncMaps.prototype.iniciaSearchBox=function(o){void 0==o?o={}:"",void 0==o.text?o.text="¿Qué es lo que buscas?":"",void 0==o.change?o.change=!1:"",void 0==o.autoReturnToPosition?o.autoReturnToPosition=!1:"";var e=this,t=$('<input type="text" id="search" class="form-control" placeholder="'+o.text+'" style="padding:10px;background-color:rgba(255,255,255,0.93);margin:10px 0 0 10px;width:35%;max-width:500px;border: 1px solid #BFBFBF;">')[0];cl=$('<i id="clSrc" class="glyphicon glyphicon-remove" style="display:none;margin:10px 0 0 -20px;line-height:30px;color:gray;cursor:pointer;font-size:15px;width:20px;background-color: white;"></i>')[0];try{new google.maps.places.SearchBox($("<input>")[0])}catch(r){return void console.log("Error: Se requiere la libreria 'Places' de google maps para searchBox.")}this.mapa.controls[google.maps.ControlPosition.TOP_LEFT].push(t),this.mapa.controls[google.maps.ControlPosition.TOP_LEFT].push(cl),ax=setInterval(function(){clearInterval(ax),$("#clSrc").click(function(){$("#clSrc").fadeOut(500),$("#search").val(""),o.autoReturnToPosition&&(e.mapa.panTo(e.originalPosition),e.mapa.setZoom(e.originalZoom));try{searchBoxMarker.setMap(null)}catch(t){}}),$("#clSrc").hover(function(){$(this).css("color","red")},function(){$(this).css("color","gray")}),$("#search").bind("input",function(){if(""==$(this).val()){$("#clSrc").fadeOut(500);try{searchBoxMarker.setMap(null)}catch(o){}}})},2e3),this.searchBox=new google.maps.places.SearchBox(t),e.searchBox.setBounds(e.mapa.getBounds()),this.mapa.addListener("bounds_changed",function(){e.searchBox.setBounds(e.mapa.getBounds())}),this.searchBox.addListener("places_changed",function(){var t=e.searchBox.getPlaces();if(0!=t.length){try{searchBoxMarker.setMap(null)}catch(r){}if($("#clSrc").fadeIn(500),place=t[0],0!=o.change)return place.position=place.geometry.location,void o.change(place);p=place.geometry.location,searchBoxMarker=e.agregarMarcador({lat:p.lat(),lng:p.lng(),titulo:place.name,mover:!0})}})},ncMaps.prototype.agregarCirculo=function(o){if(void 0==o)return this.error({error:"circOpt",codigo:1});void 0==o.lat?o.lat=19.2469:"",void 0==o.lng?o.lng=-103.7263:"",void 0==o.latLng?o.latLng=new google.maps.LatLng(o.lat,o.lng):"",void 0==o.color?o.color="#66CCFF":"",void 0==o.opacidadColor?o.opacidadColor=.5:"",void 0==o.colorBorde?o.colorBorde="#66F":"",void 0==o.opacidadBorde?o.opacidadBorde=.8:"",void 0==o.anchoBorde?o.anchoBorde=2:"",void 0==o.editable?o.editable=!1:"",void 0==o.clickable?o.clickable=!1:"",void 0==o.arrastrable?o.arrastrable=!1:"",void 0==o.radio?o.radio=1e3:o.radio=o.radio,void 0==o.mover?o.mover=!1:"",o.mapa=o.mapa=this.mapa;var e=new google.maps.Circle({center:o.latLng,radius:o.radio,strokeColor:o.colorBorde,strokeOpacity:o.opacidadBorde,editable:o.editable,clickable:o.clickable,strokeWeight:o.anchoBorde,fillColor:o.color,draggable:o.arrastrable,fillOpacity:o.opacidadColor,map:o.mapa});return o.mover&&this.moverMapa({latLng:e.getCenter()}),this.circuloArray.push(e),e},ncMaps.prototype.agregarInfoWindow=function(o){if(void 0==o.marker)return this.error({error:"infData",codigo:1});void 0==o.contenido?o.contenido=o.marker.getTitle():"",void 0==o.autoPan?o.autoPan=!1:"";var e=new google.maps.InfoWindow({disableAutoPan:o.autoPan});return google.maps.event.addListener(o.marker,"click",function(){e.setContent(o.contenido),e.open(o.marker.getMap(),o.marker)}),e},ncMaps.prototype.agregarMarcador=function(o){if(void 0==o)return this.error({error:"markOpt",codigo:1});void 0==o.lat?o.lan=19.2469:"",void 0==o.lng?o.lng=-103.7263:"",void 0==o.latLng?o.latLng=new google.maps.LatLng(o.lat,o.lng):"",void 0==o.arrastrable?o.arrastrable=!1:"",void 0==o.urlIcon?o.urlIcon="":"",void 0==o.titulo?o.titulo="Marcador":"",void 0===o.mapa?o.mapa=this.mapa:"",void 0==o.mover?o.mover=!1:"",void 0==o.infoWindow?o.infoWindow=!1:"",void 0==o.clickable?o.clickable=!0:"",void 0==o.contenidoInfo?o.contenidoInfo=o.titulo:"",void 0==o.zIndex?o.zIndex=1:"";var e={position:o.latLng,icon:o.urlIcon,title:o.titulo,draggable:o.arrastrable,map:o.mapa,clickable:o.clickable,zIndex:o.zIndex},t=new google.maps.Marker(e);return o.mover&&this.moverMapa({latLng:t.getPosition()}),this.markerArray.push(t),o.infoWindow&&(t.infoWindow=this.agregarInfoWindow({marker:t,contenido:o.contenidoInfo})),t},ncMaps.prototype.agregaPolyline=function(o){var e=this;if(void 0==o)return this.error({error:"polyOpt",codigo:1});if(void 0==o.path)return this.error({error:"polyOpt",codigo:2});void 0==o.flechas?o.flechas=!1:"",void 0==o.colorLinea?o.colorLinea="#336666":"",void 0==o.opacidadLinea?o.opacidadLinea=1:"",void 0==o.anchoLinea?o.anchoLinea=2:"",void 0==o.mapa?o.mapa=this.mapa:"",void 0==o.banderas?o.banderas=!1:"",void 0==o.animado?o.animado=!1:"",void 0==o.intervalo?o.intervalo=100:"",o.banderas&&(this.agregarMarcador({titulo:"Origen",latLng:o.path[0],urlIcon:"http://maps.google.com/mapfiles/ms/micons/blue.png"}),this.agregarMarcador({titulo:"Destino",latLng:o.path[o.path.length-1],urlIcon:"http://maps.google.com/mapfiles/ms/micons/red-dot.png"}));var t="";if(o.flechas&&(t={path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,strokeOpacity:1,strokeWeight:1,scale:2,fillColor:o.colorLinea,fillOpacity:1}),o.animado){try{clearInterval(e.polylineAnimatedInterval)}catch(r){}var a=new google.maps.Polyline({path:[o.path[0]],map:e.mapa,strokeColor:o.colorLinea,strokeOpacity:o.opacidadLinea,strokeWeight:o.anchoLinea,scale:2,clickable:!1,fillOpacity:o.opacidadLinea,icons:[{icon:t,offset:"0",repeat:"200px"}]});path=a.getPath();var i=1;e.polylineAnimatedInterval=setInterval(function(){path.push(o.path[i]),i==o.path.length-1&&clearInterval(e.polylineAnimatedInterval),i++},o.intervalo)}else var a=new google.maps.Polyline({path:o.path,map:e.mapa,strokeColor:o.colorLinea,strokeOpacity:o.opacidadLinea,strokeWeight:o.anchoLinea,scale:2,clickable:!1,fillOpacity:o.opacidadLinea,icons:[{icon:t,offset:"0",repeat:"200px"}]});return this.polylineArray.push(a),a},ncMaps.prototype.agregaPolygon=function(o){if(void 0==o)return this.error({error:"polyOpt",codigo:1});if(void 0==o.puntos)return this.error({error:"polyOpt",codigo:2});void 0===o.mapa?o.mapa=this.mapa:"",void 0==o.color?o.color="#00B8D4":"",void 0==o.colorLinea?o.colorLinea="#ffffff":"",void 0==o.opacidadLinea?o.opacidadLinea=1:"",void 0==o.anchoLinea?o.anchoLinea=1:"",void 0==o.opacidadRelleno?o.opacidadRelleno=1:"",void 0==o.infoBoxContent?o.infoBoxContent="---":"",void 0==o.infoBoxEnable?o.infoBoxEnable=!1:"";var e=new google.maps.Polygon({paths:o.puntos,map:o.mapa,strokeColor:o.colorLinea,fillColor:o.color,strokeOpacity:o.opacidadLinea,fillOpacity:o.opacidadRelleno,strokeWeight:o.anchoLinea,clickable:!0,infoBoxEnable:o.infoBoxEnable,infoBoxContent:o.infoBoxContent});if(e.getBounds=function(){var o=new google.maps.LatLngBounds;return this.getPath().forEach(function(e,t){o.extend(e)}),o},e.getCenter=function(){return this.getBounds().getCenter()},this.infoBoxEnable){console.log(this.infoBoxEnable);var t={content:this.infoBoxContent,boxStyle:{textAlign:"center",fontSize:"8pt",width:"50px"},disableAutoPan:!0,pixelOffset:new google.maps.Size(-25,0),position:this.getBounds().getCenter(),closeBoxURL:"",isHidden:!1,pane:"mapPane",enableEventPropagation:!0};e.infoBox=new InfoBox(t),e.infoBox.open(e.getMap())}return e},ncMaps.prototype.getDirecciones=function(o,e){var t=this,r={};$.each(t.direcArray,function(o,e){e.setMap(null)}),$("#mAkmToNsUn").remove();var a,i=[];if(void 0==o)return this.error({error:"directOpt",codigo:1});if(void 0==o.origen)return this.error({error:"directOpt",codigo:2});if(void 0==o.destino)return this.error({error:"directOpt",codigo:3});switch(void 0==o.puntosObligados?o.puntosObligados=[]:"",void 0==o.travelMode?o.travelMode="DRIVING":"",void 0==o.verDistancia?o.verDistancia=!1:"",void 0==o.preserveViewport?o.preserveViewport=!0:"",void 0==o.suppressMarkers?o.suppressMarkers=!1:"",void 0==o.suppressPolylines?o.suppressPolylines=!1:"",void 0===o.mapa?o.mapa=t.mapa:"",void 0==o.draggable?o.draggable=!1:"",void 0==e?e=null:"",o.travelMode.toUpperCase()){case"BICYCLING":a=google.maps.TravelMode.BICYCLING;break;case"TRANSIT":a=google.maps.TravelMode.TRANSIT;break;case"WALKING":a=google.maps.TravelMode.WALKING;break;default:a=google.maps.TravelMode.DRIVING}$.each(o.puntosObligados,function(o,e){i.push({location:e})});var n=function(o){for(var e=0,t=o.routes[0],r=0;r<t.legs.length;r++)e+=t.legs[r].distance.value;return e/=1e3,e+" km"},s=new google.maps.DirectionsRenderer({map:o.mapa,draggable:o.draggable});o.verDistancia&&google.maps.event.addListener(s,"directions_changed",function(){var o=n(s.getDirections());void 0==$("#mAkmToNsUn")[0]?$("#"+t._idMapa).append("<div id='mAkmToNsUn'>Distancia: "+o+"</div>"):$("#mAkmToNsUn").html("Distancia: "+o),void 0==$("#styleMn3X")[0]&&$("head").append("<style id='styleMn3X'>#mAkmToNsUn{position:absolute;background-color:#3367D6;color:white;padding:10px;margin:10px;border-radius:3px;bottom:0px;-webkit-transition: background-color 2s ease-out;-moz-transition: background-color 10s ease-out;-o-transition: background-color 10s ease-out;transition: background-color 10s ease-out;}#mAkmToNsUn:hover{background-color: red;cursor:pointer}</style>")});var l=new google.maps.DirectionsService,c=o.origen,p=o.destino,d={origin:c,destination:p,waypoints:i,travelMode:a,durationInTraffic:!0,unitSystem:google.maps.UnitSystem.METRIC};l.route(d,function(a,i){i==google.maps.DirectionsStatus.OK&&(s.setOptions({preserveViewport:o.preserveViewport,suppressMarkers:o.suppressMarkers,suppressPolylines:o.suppressPolylines}),s.setDirections(a),t.direcArray.push(s),r.obj=s,r.duracion=s.directions.routes[0].legs[0].duration.text,r.distancia=s.directions.routes[0].legs[0].distance.text.replace(",","."),null!=e&&e(r))})},ncMaps.prototype.getDistancia=function(o){if(void 0==o)return this.error({error:"disOpt",codigo:1});if(void 0==o.from)return this.error({error:"disOpt",codigo:2});if(void 0==o.to)return this.error({error:"disOpt",codigo:3});void 0==o.muestra?o.muestra="m":"";try{var e=google.maps.geometry.spherical.computeDistanceBetween(o.from,o.to)}catch(t){console.log("Deben ser puntos LatLng")}var r="";switch(o.muestra){case"cm":e=(100*e).toFixed(2),r={l:"Centimetros",c:"cm"};break;case"m":e=e.toFixed(2),r={l:"Metros",c:"m"};break;case"km":e=(e/100).toFixed(2),r={l:"Kilometros",c:"km"}}return result={distancia:e,unidadC:r.c,unidadL:r.l},result},ncMaps.prototype.getDistanciaLineal=function(o){var e=function(o){return o*Math.PI/180};if(void 0==o)return this.error({error:"disLinOpt",codigo:1});if(void 0==o.from)return this.error({error:"disLinOpt",codigo:2});if(void 0==o.to)return this.error({error:"disLinOpt",codigo:3});var t=6378137,r=e(o.to.lat()-o.from.lat()),a=e(o.to.lng()-o.from.lng()),i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e(o.from.lat()))*Math.cos(e(o.to.lat()))*Math.sin(a/2)*Math.sin(a/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),s=t*n;return s},ncMaps.prototype.getRumboText=function(o){switch(o){case 0:return"NORTE";case 1:return"NORESTE";case 2:return"ESTE";case 3:return"SURESTE";case 4:return"SUR";case 5:return"SUROESTE";case 6:return"OESTE";case 7:return"NOROESTE"}},ncMaps.prototype.latLngBounds=function(o,e){return new google.maps.LatLngBounds(o,e)},ncMaps.prototype.latLng=function(o,e){var t=new google.maps.LatLng(parseFloat(o),parseFloat(e));return t},ncMaps.prototype.generaKMLtext=function(o){if(void 0==o)return this.error({error:"generaKML",codigo:1});if(void 0==o.puntos)return this.error({error:"generaKML",codigo:2});void 0==o.titulo?o.titulo="Ruta":"";var e="";$.each(o.puntos,function(o,t){e+=t.F+","+t.A+",0 "});var t='<?xml version="1.0" encoding="UTF-8"?><kml xmlns="http://www.opengis.net/kml/2.2" xmlns:gx="http://www.google.com/kml/ext/2.2" xmlns:kml="http://www.opengis.net/kml/2.2" xmlns:atom="http://www.w3.org/2005/Atom"><Document><name>'+o.titulo+'.kml</name><StyleMap id="msn_ylw-pushpin"><Pair><key>normal</key><styleUrl>#sn_ylw-pushpin</styleUrl></Pair><Pair><key>highlight</key><styleUrl>#sh_ylw-pushpin</styleUrl></Pair></StyleMap><Style id="sh_ylw-pushpin"><IconStyle><scale>1.3</scale><Icon><href>http://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png</href></Icon><hotSpot x="20" y="2" xunits="pixels" yunits="pixels"/></IconStyle><LineStyle><color>ccff6a00</color><width>4</width></LineStyle></Style><Style id="sn_ylw-pushpin"><IconStyle><scale>1.1</scale><Icon><href>http://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png</href></Icon><hotSpot x="20" y="2" xunits="pixels" yunits="pixels"/></IconStyle><LineStyle><color>ccff6a00</color><width>4</width></LineStyle></Style><Placemark><name>'+o.titulo+"</name><styleUrl>#msn_ylw-pushpin</styleUrl><LineString><tessellate>1</tessellate><coordinates>"+e+"</coordinates></LineString></Placemark></Document></kml>";return t},ncMaps.prototype.autoZoom=function(o){if(void 0==o)return this.error({error:"objAz",codigo:1});if(void 0==o.path)return this.error({error:"objAz - Se requiere un path",codigo:2});if(void 0==o.tipo)return this.error({error:"objAz - Se require un tipo de objeto",codigo:3});void 0==o.qZoom?o.qZoom=0:"";var e=new google.maps.LatLngBounds;$.each(o.path,function(t,r){switch(o.tipo.toLocaleLowerCase()){case"latlng":e.extend(r);break;case"marker":e.extend(r.getPosition());break;case"polygon":e.extend(r.getCenter())}}),this.mapa.fitBounds(e),this.mapa.setZoom(this.mapa.getZoom()-o.qZoom)},ncMaps.prototype.moverMapa=function(o){return void 0==o?this.error({error:"moverOpt",codigo:1}):(void 0==o.lat?o.lat=19.2469:"",void 0==o.lng?o.lng=-103.7263:"",void 0==o.latLng?o.latLng=new google.maps.LatLng(o.lat,o.lng):"",void this.mapa.panTo(o.latLng))},ncMaps.prototype.getEsquinas=function(){var o=this.mapa.getBounds(),e=o.getNorthEast(),t=o.getSouthWest(),r=new google.maps.LatLng(e.lat(),e.lng()),a=new google.maps.LatLng(t.lat(),e.lng()),i=new google.maps.LatLng(t.lat(),t.lng()),n=new google.maps.LatLng(e.lat(),t.lng());this.zoom=this.mapa.getZoom();var s={zoom:this.zoom,NE:r,SE:a,SO:i,NO:n};return s},ncMaps.prototype.pointToTrazo=function(o){if(null==o)return"Se requiere array de coordenadas:[{long,lat}]";var e=o.replace(/["'()]/g,"").replace(/POINT /g,"").split(","),t=new Array;$.each(e,function(o,e){e=e.split(" "),lt=new google.maps.LatLng(e[1],e[0]),t.push(lt)});var r=google.maps.geometry.encoding.encodePath(t);return r},ncMaps.prototype.polygonToTrazo=function(o){if(null==o)return"Se requiere array de coordenadas:[{long,lat},{long,lat}]";var e=o.replace(/["'()]/g,"").replace(/POLYGON/g,"").split(","),t=new Array;$.each(e,function(o,e){e=e.split(" "),lt=new google.maps.LatLng(e[1],e[0]),t.push(lt)});var r=google.maps.geometry.encoding.encodePath(t);return r},ncMaps.prototype.trazoToPath=function(o){return google.maps.geometry.encoding.decodePath(o)},ncMaps.prototype.renew=function(){google.maps.event.trigger(this.mapa,"resize")},ncMaps.prototype.getZoom=function(){return this.mapa.getZoom()},ncMaps.prototype.getAddressByPosition=function(o,e){if(void 0==o)return this.error({error:"locationOpt",codigo:1});void 0==this.geocoder&&(this.geocoder=new google.maps.Geocoder);this.geocoder.geocode({location:o},function(o,t){if(t==google.maps.GeocoderStatus.OK){var r=o[0].formatted_address;e({direccion:r})}else window.alert("Google no pudo encontrar a la dirección: "+t)})},ncMaps.prototype.getPositionByAddress=function(o,e){if(void 0==o)return this.error({error:"addressOpt",codigo:1});void 0==this.geocoder&&(this.geocoder=new google.maps.Geocoder),void 0==o.country?o.country="MX":"",void 0==o.postalCode?o.postalCode="28000":"",void 0==o.address?o.address="":"",void 0==o.restrictions?o.restrictions=!1:"",0==o.restrictions?o.restrictions={}:o.restrictions={country:o.country,postalCode:o.postalCode};var t=this,r={};if(o.address&&(r.address=o.address),o.location&&(r.location=o.location),o.latLngBounds){var a=o.latLngBounds;bounds=new google.maps.LatLngBounds,bounds.extend(a.a),bounds.extend(a.b),r.bounds=bounds}console.log(r),this.geocoder.geocode(r,function(r,a){if(a==google.maps.GeocoderStatus.OK){console.log(r);var i=r[0].geometry.location,n=r[0].formatted_address;e({position:i,direccion:n})}else void 0!=o.restrictions.country?(console.log("otra oportunidad"),t.getPositionByAddress({restrictions:!1,address:o.address,content:o.content})):window.alert("Google no pudo encontrar a la persona: "+a)})},ncMaps.prototype.snapedRoad=function(o,e){if(void 0==o)return this.error({error:"Se requiere objeto",codigo:1});if(void 0==o.path)return this.error({error:"path requerido",codigo:2});void 0==o.interpolate?o.interpolate=!0:"",pathValues=[],$.each(o.path,function(o,e){pathValues.push(e.toUrlValue())});var t=this;$.get("https://roads.googleapis.com/v1/snapToRoads",{interpolate:o.interpolate,key:t.apiKey,path:pathValues.join("|")},function(o){var r=[];$.each(o.snappedPoints,function(o,e){var a=t.latLng(e.location.latitude,e.location.longitude);r.push(a)}),e({data:o,puntos:r})})},ncMaps.prototype.clearMap=function(){$.each(this.markerArray,function(o,e){e.setMap(null)}),$.each(this.circuloArray,function(o,e){e.setMap(null)}),$.each(this.polyArray,function(o,e){e.setMap(null)}),$.each(this.direcArray,function(o,e){e.setMap(null)}),$.each(this.polylineArray,function(o,e){e.setMap(null)}),this.markerArray=[],this.circuloArray=[],this.polyArray=[],this.direcArray=[],this.polylineArray=[]},ncMaps.prototype.error=function(o){return console.log(o),"->"+o.codigo},ncMaps.prototype.loadScript=function(o,e){var t=document.createElement("script");t.type="text/javascript",t.readyState?t.onreadystatechange=function(){"loaded"!=t.readyState&&"complete"!=t.readyState||(t.onreadystatechange=null,e())}:t.onload=function(){e()},t.src=o,document.getElementsByTagName("head")[0].appendChild(t)};